<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;controller&#x2F;subsystem&#x2F;processing&#x2F;quirks - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/controller/subsystem/processing/quirks.html#var">Var Details</a> - <a href="datum/controller/subsystem/processing/quirks.html#proc">Proc Details</a></header>
<main>
<h1>quirks <aside>/<a href="datum.html">datum</a>/<a href="datum/controller/subsystem.html">controller/subsystem</a>/<a href="datum/controller/subsystem/processing/quirks.html">processing/quirks</a></aside>
        
    
            <a href="https://github.com/MrMelbert/MapleStationCode/blob/2a670e9ca3e1d144846eab12dc61f36dcc54bc17/code/controllers/subsystem/processing/quirks.dm#L7">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;processing&#x2F;quirks.dm 7"/></a></h1>

<p>-- Separate file to add in additional blacklists for modular quirks. --</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="datum/controller/subsystem/processing/quirks.html#var/hardcore_quirks">hardcore_quirks</a></th><td>An assoc list of quirks that can be obtained as a hardcore character, and their hardcore value.</td></tr>
            <tr><th><a href="datum/controller/subsystem/processing/quirks.html#var/module_blacklist">module_blacklist</a></th><td>Modular quirk blacklist. This is added into the master blacklist on Initialize.</td></tr>
            <tr><th><a href="datum/controller/subsystem/processing/quirks.html#var/quirk_blacklist">quirk_blacklist</a></th><td>A list of quirks that can not be used with each other. Format: list(quirk1,quirk2),list(quirk3,quirk4)</td></tr>
            <tr><th><a href="datum/controller/subsystem/processing/quirks.html#var/species_blacklist">species_blacklist</a></th><td>Species blacklist. Quirks cannot be added to species in the supplied list.</td></tr>
            <tr><th><a href="datum/controller/subsystem/processing/quirks.html#var/species_whitelist">species_whitelist</a></th><td>Species whitelist. Quirks can only be added to species in the supplied list.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/controller/subsystem/processing/quirks.html#proc/AssignQuirks">AssignQuirks</a></th><td>Post preference transfer handling, done after quirks are assigned. (TODO: FIND A BETTER WAY TO DO THIS, maybe.)</td></tr>
            <tr><th><a href="datum/controller/subsystem/processing/quirks.html#proc/filter_invalid_quirks">filter_invalid_quirks</a></th><td>Cached list of possible quirks
Takes a list of quirk names and returns a new list of quirks that would
be valid.
If no changes need to be made, will return the same list.
Expects all quirk names to be unique, but makes no other expectations.</td></tr>
            <tr><th><a href="datum/controller/subsystem/processing/quirks.html#proc/get_quirks">get_quirks</a></th><td>Returns the list of possible quirks</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/hardcore_quirks"><aside class="declaration">var </aside>hardcore_quirks
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/MrMelbert/MapleStationCode/blob/2a670e9ca3e1d144846eab12dc61f36dcc54bc17/code/controllers/subsystem/processing/quirks.dm#L17">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;processing&#x2F;quirks.dm 17"/></a></h3>
        <p>An assoc list of quirks that can be obtained as a hardcore character, and their hardcore value.</p><h3 id="var/module_blacklist"><aside class="declaration">var </aside>module_blacklist
            <aside>&ndash; /static/list</aside>
        
    
            <a href="https://github.com/MrMelbert/MapleStationCode/blob/2a670e9ca3e1d144846eab12dc61f36dcc54bc17/maplestation_modules/code/datums/quirks/_quirk_blacklist.dm#L4">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;quirks&#x2F;_quirk_blacklist.dm 4"/></a></h3>
        <p>Modular quirk blacklist. This is added into the master blacklist on Initialize.</p><h3 id="var/quirk_blacklist"><aside class="declaration">var </aside>quirk_blacklist
            <aside>&ndash; /static/list</aside>
        
    
            <a href="https://github.com/MrMelbert/MapleStationCode/blob/2a670e9ca3e1d144846eab12dc61f36dcc54bc17/code/controllers/subsystem/processing/quirks.dm#L20">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;processing&#x2F;quirks.dm 20"/></a></h3>
        <p>A list of quirks that can not be used with each other. Format: list(quirk1,quirk2),list(quirk3,quirk4)</p><h3 id="var/species_blacklist"><aside class="declaration">var </aside>species_blacklist
            <aside>&ndash; /static/list</aside>
        
    
            <a href="https://github.com/MrMelbert/MapleStationCode/blob/2a670e9ca3e1d144846eab12dc61f36dcc54bc17/maplestation_modules/code/datums/quirks/_quirk_blacklist.dm#L9">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;quirks&#x2F;_quirk_blacklist.dm 9"/></a></h3>
        <p>Species blacklist. Quirks cannot be added to species in the supplied list.</p><h3 id="var/species_whitelist"><aside class="declaration">var </aside>species_whitelist
            <aside>&ndash; /static/list</aside>
        
    
            <a href="https://github.com/MrMelbert/MapleStationCode/blob/2a670e9ca3e1d144846eab12dc61f36dcc54bc17/maplestation_modules/code/datums/quirks/_quirk_blacklist.dm#L13">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;datums&#x2F;quirks&#x2F;_quirk_blacklist.dm 13"/></a></h3>
        <p>Species whitelist. Quirks can only be added to species in the supplied list.</p><h2 id="proc">Proc Details</h2><h3 id="proc/AssignQuirks"><aside class="declaration">proc </aside>AssignQuirks<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="client.html">client</a>/cli) 
        
    
            <a href="https://github.com/MrMelbert/MapleStationCode/blob/2a670e9ca3e1d144846eab12dc61f36dcc54bc17/maplestation_modules/code/modules/client/preferences/_preferences.dm#L17">
        <img src="git.png" width="16" height="16" title="maplestation_modules&#x2F;code&#x2F;modules&#x2F;client&#x2F;preferences&#x2F;_preferences.dm 17"/></a></aside>
        </h3>
        <p>Post preference transfer handling, done after quirks are assigned. (TODO: FIND A BETTER WAY TO DO THIS, maybe.)</p>
<p>Why in AssignQuirks?</p>
<p>Because some preferences (post loadout equipping, languages) need to be done after quirks are assigned
for both latejoiners and roundstart players - this ensures that post pref handling is done
after quirks are done for both types of players easily and modularly.</p>
<p>Why not extend the other two relevant procs (equip_characters and AttemptLateSpawn)?</p>
<p>AssignQuirks is passed the mob and the client, which are both needed for after_prefs_transfer
If the procs were extended, it'd lose the relevant vars from the scope of those procs.</p><h3 id="proc/filter_invalid_quirks"><aside class="declaration">proc </aside>filter_invalid_quirks<aside>(/list/quirks, /<a href="datum.html">datum</a>/<a href="datum/preferences.html">preferences</a>/supplied_prefs) 
        
    
            <a href="https://github.com/MrMelbert/MapleStationCode/blob/2a670e9ca3e1d144846eab12dc61f36dcc54bc17/code/controllers/subsystem/processing/quirks.dm#L145">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;processing&#x2F;quirks.dm 145"/></a></aside>
        </h3>
        <p>Cached list of possible quirks
Takes a list of quirk names and returns a new list of quirks that would
be valid.
If no changes need to be made, will return the same list.
Expects all quirk names to be unique, but makes no other expectations.</p><h3 id="proc/get_quirks"><aside class="declaration">proc </aside>get_quirks<aside>() 
        
    
            <a href="https://github.com/MrMelbert/MapleStationCode/blob/2a670e9ca3e1d144846eab12dc61f36dcc54bc17/code/controllers/subsystem/processing/quirks.dm#L38">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;processing&#x2F;quirks.dm 38"/></a></aside>
        </h3>
        <p>Returns the list of possible quirks</p></main>
<footer>
    maplestation.dme
    <a href="https://github.com/MrMelbert/MapleStationCode/tree/2a670e9ca3e1d144846eab12dc61f36dcc54bc17">2a670e9</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.1</a></footer>
</body>
</html>
